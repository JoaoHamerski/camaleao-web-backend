(()=>{"use strict";var a=function(a,t){t?(a.attr("disabled","disabled"),a.find("i").hide(),a.prepend('<span class="spinner-border spinner-border-sm mr-1"></span>')):(a.removeAttr("disabled"),a.find(".spinner-border").remove(),a.find("i").show())},t=function(){return window.location.protocol+"//"+window.location.host+window.location.pathname},e=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;$("html, body").animate({scrollTop:a.offset().top-100},t)};$('[data-target="#changePaymentModal"]').on("click",(function(a){a.preventDefault();var e=$(this).parents("[data-id]").attr("data-id");axios.get(t()+"/pagamento/"+e+"/get-change-payment-view").then((function(a){$("#changePaymentModal .modal-body").html(a.data.view)})).catch((function(a){console.log(a.response)}))})),$(document).on("click","#btnChangePayment",(function(n){n.preventDefault();var i=$(this).attr("data-id"),o=$(this),s=new FormData($(this).parents("form").get(0));a(o,!0),axios.post(t()+"/pagamento/"+i,s).then((function(a){window.location=a.data.redirect})).catch((function(t){!function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e($("[name*="+Object.entries(a)[0][0].split(".")[0]+"]")),Object.entries(a).forEach((function(a){var e,n=$('<div class="text-danger small">'+a[1][0]+"</div>"),i=a[0],o="[name="+i+"]";i.includes(".")&&(e=i.split(".")[1],o="[name^="+(i=i.split(".")[0])+"]"),""!==t&&(o=t+" "+o),"password"==i&&($("[name=password]").val(""),$("[name=password_confirmation]").val("")),$(o).parent().hasClass("input-group")?(a[0].includes(".")&&(o=$(o).get(e)),$(o).parent().next(".text-danger").remove(),$(o).removeClass("is-invalid").addClass("is-invalid"),$(o).parent().after(n)):(a[0].includes(".")&&(o=$(o).get(e)),$(o).next(".text-danger").remove(),$(o).removeClass("is-invalid").addClass("is-invalid").after(n))}))}(t.response.data.errors),a(o,!1)}))}))})();