(()=>{"use strict";var e=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n($("[name*="+Object.entries(e)[0][0].split(".")[0]+"]")),Object.entries(e).forEach((function(e){var n,t=$('<div class="text-danger small">'+e[1][0]+"</div>"),i=e[0],o="[name="+i+"]";i.includes(".")&&(n=i.split(".")[1],o="[name^="+(i=i.split(".")[0])+"]"),""!==a&&(o=a+" "+o),"password"==i&&($("[name=password]").val(""),$("[name=password_confirmation]").val("")),$(o).parent().hasClass("input-group")?(e[0].includes(".")&&(o=$(o).get(n)),$(o).parent().next(".text-danger").remove(),$(o).removeClass("is-invalid").addClass("is-invalid"),$(o).parent().after(t)):(e[0].includes(".")&&(o=$(o).get(n)),$(o).next(".text-danger").remove(),$(o).removeClass("is-invalid").addClass("is-invalid").after(t))}))},a=function(e,a){a?(e.attr("disabled","disabled"),e.find("i").hide(),e.prepend('<span class="spinner-border spinner-border-sm mr-1"></span>')):(e.removeAttr("disabled"),e.find(".spinner-border").remove(),e.find("i").show())},n=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;$("html, body").animate({scrollTop:e.offset().top-100},a)};$("#btnRegisterUser").on("click",(function(n){n.preventDefault();var t=$(this);a(t,!0),axios.post(window.location.protocol+"//"+window.location.host+window.location.pathname,{name:$("[name=name]").val(),email:$("[name=email]").val(),password:$("[name=password").val(),password_confirmation:$("[name=password_confirmation]").val(),role_id:$("[name=role_id]").val()}).then((function(e){window.location=e.data.redirect})).catch((function(n){e(n.response.data.errors),a(t,!1)}))})),$(".btn-delete-user").on("click",(function(e){e.preventDefault();var a=$(this).parents("[data-id]").attr("data-id");Swal.fire({icon:"error",iconHtml:'<i class="fas fa-trash-alt"></i>',title:"Tem certeza?",html:'<div class="text-center">O usuário será deletado</div>',showCancelButton:!0,confirmButtonText:"Tenho",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&axios.delete(window.location.href+"/"+a+"/deletar").then((function(e){window.location=e.data.redirect}))}))})),$(".btn-change-role").on("click",(function(e){e.preventDefault();var a=$(this).parents("[data-id]").attr("data-id");axios.get(window.location.href+"/"+a+"/get-change-role-form").then((function(e){$("#changeRoleModal .modal-body").html(e.data.view)}))})),$(document).on("click","#btnSaveChangedRole",(function(n){n.preventDefault();var t=$(this).attr("data-id"),i=$(this);a(i,!0),axios.post(window.location.href+"/"+t+"/change-role",{role_id:$("[name=role_id_change]").val()}).then((function(e){window.location=e.data.redirect})).catch((function(n){e(n.response.data.errors),a(i,!1)}))}))})();